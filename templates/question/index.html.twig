{% extends 'base.html.twig' %}

{% block title %}Liste des Questions{% endblock %}

{% block body %}
    <div class="questions-container">
        {% if questions is empty %}
            <p>Aucune question n'a été trouvée.</p>
        {% else %}
            {% for question in questions %}
                <div class="question-item">
                    <div class="question-image">
                        {% if question.photoFilename %}
                            <img src="{{ asset('uploads/photos/' ~ question.photoFilename) }}" alt="Image de {{ question.title }}">
                        {% else %}
                            <img src="{{ asset('uploads/photos/default.png') }}" alt="Image par défaut">
                        {% endif %}
                    </div>
                    <div class="question-content">
                        <div class="question-category-time">
                            <span class="category">{{ question.category }}</span>
                            <span class="time">• Créé le {{ question.lifespan|date('d/m/Y H:i') }}</span>
                        </div>
                        <h2 class="question-title">{{ question.title }}</h2>
                        <div class="question-details">
                            <span class="responses-count">{{ question.responses|length }} réponses</span>
                            <span class="author">- Par {{ question.author }}</span>
                        </div>
                    </div>
                </div>
            {% endfor %}
        {% endif %}
    </div>
{% endblock %}
